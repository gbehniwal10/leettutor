# Ticket 42: Fix Hint Count Increment Timing

## Priority: LOW

## Problem

In the `request_hint` WebSocket handler (`server.py:536`), the hint count is incremented and logged *before* the hint is actually generated by the tutor. If hint generation fails (e.g., Claude SDK error, timeout), the count is already incremented â€” the user loses a hint they never received.

**Audit ref:** Issue #20

## Files
- `backend/server.py` (request_hint handler)

## Requirements

1. Move the hint count increment to *after* the hint has been successfully generated and sent to the client
2. If hint generation fails, the count should remain unchanged and the user should receive an error message
3. Ensure the session log also only records the hint if it was actually delivered

## Scope
- `backend/server.py`: Reorder hint count increment in the request_hint handler
