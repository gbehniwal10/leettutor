{
  "id": "cheapest-flights-within-k-stops",
  "title": "Cheapest Flights Within K Stops",
  "difficulty": "medium",
  "tags": [
    "depth-first-search",
    "breadth-first-search",
    "graph",
    "dynamic-programming",
    "shortest-path",
    "heap-(priority-queue)"
  ],
  "description": "There are n cities connected by some number of flights. You are given an array flights where flights[i] = [fromi, toi, pricei] indicates that there is a flight from city fromi to city toi with cost pricei.\nYou are also given three integers src, dst, and k, return the cheapest price from src to dst with at most k stops. If there is no such route, return -1.\n\n**Example 1:**\n\n```\nInput: n = 4, flights = [[0,1,100],[1,2,100],[2,0,100],[1,3,600],[2,3,200]], src = 0, dst = 3, k = 1\nOutput: 700\nExplanation:\nThe graph is shown above.\nThe optimal path with at most 1 stop from city 0 to 3 is marked in red and has cost 100 + 600 = 700.\n\n```\nNote that the path through cities [0,1,2,3] is cheaper but is invalid because it uses 2 stops.\n\n**Example 2:**\n\n```\nInput: n = 3, flights = [[0,1,100],[1,2,100],[0,2,500]], src = 0, dst = 2, k = 1\nOutput: 200\nExplanation:\nThe graph is shown above.\nThe optimal path with at most 1 stop from city 0 to 2 is marked in red and has cost 100 + 100 = 200.\n\n```\n**Example 3:**\n\n```\nInput: n = 3, flights = [[0,1,100],[1,2,100],[0,2,500]], src = 0, dst = 2, k = 0\nOutput: 500\nExplanation:\nThe graph is shown above.\nThe optimal path with no stops from city 0 to 2 is marked in red and has cost 500.\n\n```\n**Constraints:**\n\n- `1 <= n <= 100`\n- `0 <= flights.length <= (n * (n - 1) / 2)`\n- `flights[i].length == 3`\n- `0 <= fromi, toi < n`\n- `fromi != toi`\n- `1 <= pricei <= 104`\n- `There will not be any multiple flights between two cities.`\n- `0 <= src, dst, k < n`\n- `src != dst`\n",
  "starter_code": "def findCheapestPrice(n: int, flights: List[List[int]], src: int, dst: int, k: int) -> int:\n    # Your code here\n    pass\n",
  "function_name": "findCheapestPrice",
  "test_cases": [
    {
      "input": {
        "n": 6,
        "flights": [
          [
            0,
            1,
            10
          ],
          [
            0,
            2,
            15
          ],
          [
            1,
            2,
            5
          ],
          [
            1,
            3,
            20
          ],
          [
            2,
            3,
            10
          ],
          [
            3,
            4,
            10
          ],
          [
            4,
            5,
            10
          ]
        ],
        "src": 0,
        "dst": 5,
        "k": 2
      },
      "expected": -1,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 3,
        "flights": [
          [
            0,
            1,
            100
          ],
          [
            1,
            2,
            100
          ]
        ],
        "src": 0,
        "dst": 2,
        "k": 2
      },
      "expected": 200,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 3,
        "flights": [
          [
            0,
            1,
            100
          ],
          [
            1,
            2,
            100
          ],
          [
            0,
            2,
            500
          ]
        ],
        "src": 0,
        "dst": 2,
        "k": 1
      },
      "expected": 200,
      "function_call": "findCheapestPrice(**test_input)"
    }
  ],
  "hidden_test_cases": [
    {
      "input": {
        "n": 6,
        "flights": [
          [
            0,
            1,
            10
          ],
          [
            1,
            2,
            20
          ],
          [
            0,
            3,
            40
          ],
          [
            3,
            4,
            20
          ],
          [
            4,
            2,
            10
          ],
          [
            2,
            5,
            25
          ]
        ],
        "src": 0,
        "dst": 5,
        "k": 2
      },
      "expected": 55,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 3,
        "flights": [
          [
            0,
            1,
            100
          ],
          [
            1,
            2,
            100
          ]
        ],
        "src": 0,
        "dst": 2,
        "k": 0
      },
      "expected": -1,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 4,
        "flights": [
          [
            0,
            1,
            1
          ],
          [
            0,
            2,
            5
          ],
          [
            1,
            2,
            1
          ],
          [
            2,
            3,
            1
          ]
        ],
        "src": 0,
        "dst": 3,
        "k": 1
      },
      "expected": 6,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 4,
        "flights": [
          [
            0,
            1,
            1
          ],
          [
            0,
            2,
            5
          ],
          [
            1,
            2,
            1
          ],
          [
            2,
            3,
            1
          ],
          [
            1,
            3,
            4
          ]
        ],
        "src": 0,
        "dst": 3,
        "k": 1
      },
      "expected": 5,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 6,
        "flights": [
          [
            0,
            1,
            10
          ],
          [
            0,
            2,
            15
          ],
          [
            1,
            3,
            20
          ],
          [
            2,
            4,
            50
          ],
          [
            3,
            4,
            10
          ],
          [
            4,
            5,
            10
          ]
        ],
        "src": 0,
        "dst": 5,
        "k": 1
      },
      "expected": -1,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 6,
        "flights": [
          [
            0,
            1,
            10
          ],
          [
            0,
            2,
            30
          ],
          [
            1,
            3,
            50
          ],
          [
            2,
            3,
            20
          ],
          [
            3,
            4,
            10
          ],
          [
            4,
            5,
            60
          ]
        ],
        "src": 0,
        "dst": 5,
        "k": 2
      },
      "expected": -1,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 4,
        "flights": [
          [
            0,
            1,
            100
          ],
          [
            1,
            2,
            100
          ],
          [
            2,
            0,
            100
          ],
          [
            1,
            3,
            600
          ],
          [
            2,
            3,
            200
          ]
        ],
        "src": 0,
        "dst": 3,
        "k": 1
      },
      "expected": 700,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 6,
        "flights": [
          [
            0,
            1,
            10
          ],
          [
            0,
            2,
            30
          ],
          [
            1,
            2,
            10
          ],
          [
            1,
            3,
            40
          ],
          [
            2,
            3,
            10
          ],
          [
            2,
            4,
            10
          ],
          [
            3,
            4,
            10
          ],
          [
            4,
            5,
            10
          ]
        ],
        "src": 0,
        "dst": 5,
        "k": 1
      },
      "expected": -1,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 3,
        "flights": [
          [
            0,
            1,
            100
          ],
          [
            1,
            2,
            100
          ],
          [
            0,
            2,
            500
          ]
        ],
        "src": 0,
        "dst": 2,
        "k": 0
      },
      "expected": 500,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 2,
        "flights": [
          [
            0,
            1,
            100
          ]
        ],
        "src": 0,
        "dst": 1,
        "k": 0
      },
      "expected": 100,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 5,
        "flights": [
          [
            0,
            1,
            5
          ],
          [
            1,
            2,
            5
          ],
          [
            0,
            3,
            2
          ],
          [
            3,
            1,
            2
          ],
          [
            1,
            4,
            1
          ],
          [
            4,
            2,
            1
          ]
        ],
        "src": 0,
        "dst": 2,
        "k": 2
      },
      "expected": 7,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 9,
        "flights": [
          [
            0,
            1,
            10
          ],
          [
            0,
            2,
            20
          ],
          [
            0,
            3,
            30
          ],
          [
            1,
            4,
            40
          ],
          [
            1,
            5,
            50
          ],
          [
            2,
            5,
            60
          ],
          [
            2,
            6,
            70
          ],
          [
            3,
            4,
            80
          ],
          [
            3,
            6,
            90
          ],
          [
            4,
            7,
            100
          ],
          [
            5,
            7,
            110
          ],
          [
            5,
            8,
            120
          ],
          [
            6,
            8,
            130
          ],
          [
            7,
            8,
            140
          ]
        ],
        "src": 0,
        "dst": 8,
        "k": 7
      },
      "expected": 180,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 8,
        "flights": [
          [
            0,
            1,
            10
          ],
          [
            1,
            2,
            20
          ],
          [
            2,
            3,
            30
          ],
          [
            3,
            4,
            40
          ],
          [
            4,
            5,
            50
          ],
          [
            5,
            6,
            60
          ],
          [
            6,
            7,
            70
          ],
          [
            0,
            7,
            250
          ],
          [
            7,
            0,
            250
          ],
          [
            1,
            3,
            50
          ],
          [
            3,
            1,
            50
          ],
          [
            2,
            4,
            70
          ],
          [
            4,
            2,
            70
          ],
          [
            5,
            7,
            90
          ],
          [
            7,
            5,
            90
          ]
        ],
        "src": 0,
        "dst": 7,
        "k": 2
      },
      "expected": 250,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 5,
        "flights": [
          [
            0,
            1,
            500
          ],
          [
            0,
            2,
            100
          ],
          [
            2,
            3,
            300
          ],
          [
            1,
            4,
            200
          ],
          [
            3,
            4,
            50
          ],
          [
            4,
            2,
            100
          ],
          [
            2,
            0,
            200
          ]
        ],
        "src": 0,
        "dst": 4,
        "k": 2
      },
      "expected": 450,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 8,
        "flights": [
          [
            0,
            1,
            100
          ],
          [
            0,
            2,
            150
          ],
          [
            1,
            3,
            100
          ],
          [
            1,
            4,
            200
          ],
          [
            2,
            3,
            150
          ],
          [
            2,
            5,
            200
          ],
          [
            3,
            4,
            100
          ],
          [
            3,
            6,
            150
          ],
          [
            4,
            7,
            200
          ],
          [
            5,
            6,
            100
          ],
          [
            5,
            7,
            150
          ],
          [
            6,
            7,
            100
          ]
        ],
        "src": 0,
        "dst": 7,
        "k": 3
      },
      "expected": 450,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 7,
        "flights": [
          [
            0,
            1,
            100
          ],
          [
            0,
            2,
            150
          ],
          [
            1,
            3,
            100
          ],
          [
            1,
            4,
            200
          ],
          [
            2,
            3,
            200
          ],
          [
            2,
            5,
            300
          ],
          [
            3,
            4,
            50
          ],
          [
            3,
            6,
            200
          ],
          [
            4,
            6,
            150
          ],
          [
            5,
            6,
            100
          ]
        ],
        "src": 0,
        "dst": 6,
        "k": 4
      },
      "expected": 400,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 12,
        "flights": [
          [
            0,
            1,
            5
          ],
          [
            1,
            2,
            10
          ],
          [
            2,
            3,
            5
          ],
          [
            3,
            4,
            10
          ],
          [
            4,
            5,
            5
          ],
          [
            5,
            6,
            10
          ],
          [
            6,
            7,
            5
          ],
          [
            7,
            8,
            10
          ],
          [
            8,
            9,
            5
          ],
          [
            9,
            10,
            10
          ],
          [
            10,
            11,
            5
          ],
          [
            0,
            11,
            100
          ]
        ],
        "src": 0,
        "dst": 11,
        "k": 6
      },
      "expected": 100,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 7,
        "flights": [
          [
            0,
            1,
            200
          ],
          [
            0,
            2,
            300
          ],
          [
            1,
            2,
            100
          ],
          [
            1,
            3,
            150
          ],
          [
            2,
            3,
            200
          ],
          [
            2,
            4,
            100
          ],
          [
            3,
            4,
            50
          ],
          [
            3,
            5,
            100
          ],
          [
            4,
            5,
            150
          ],
          [
            4,
            6,
            100
          ],
          [
            5,
            6,
            200
          ]
        ],
        "src": 0,
        "dst": 6,
        "k": 5
      },
      "expected": 500,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 9,
        "flights": [
          [
            0,
            1,
            10
          ],
          [
            0,
            2,
            20
          ],
          [
            1,
            2,
            5
          ],
          [
            1,
            3,
            20
          ],
          [
            2,
            3,
            10
          ],
          [
            2,
            4,
            15
          ],
          [
            3,
            4,
            5
          ],
          [
            3,
            5,
            25
          ],
          [
            4,
            5,
            10
          ],
          [
            4,
            6,
            20
          ],
          [
            5,
            6,
            15
          ],
          [
            5,
            7,
            25
          ],
          [
            6,
            7,
            10
          ],
          [
            6,
            8,
            15
          ],
          [
            7,
            8,
            5
          ]
        ],
        "src": 0,
        "dst": 8,
        "k": 5
      },
      "expected": 65,
      "function_call": "findCheapestPrice(**test_input)"
    },
    {
      "input": {
        "n": 12,
        "flights": [
          [
            0,
            1,
            10
          ],
          [
            0,
            2,
            15
          ],
          [
            1,
            2,
            5
          ],
          [
            1,
            3,
            10
          ],
          [
            2,
            3,
            20
          ],
          [
            3,
            4,
            50
          ],
          [
            4,
            5,
            20
          ],
          [
            5,
            6,
            10
          ],
          [
            6,
            7,
            15
          ],
          [
            7,
            8,
            30
          ],
          [
            8,
            9,
            50
          ],
          [
            9,
            10,
            70
          ],
          [
            10,
            11,
            90
          ],
          [
            11,
            3,
            110
          ]
        ],
        "src": 0,
        "dst": 11,
        "k": 6
      },
      "expected": -1,
      "function_call": "findCheapestPrice(**test_input)"
    }
  ],
  "hints": [],
  "optimal_complexity": {
    "time": "",
    "space": ""
  }
}
